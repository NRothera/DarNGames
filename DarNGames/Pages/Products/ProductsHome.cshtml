@page "{id}/{gameVendorId}"
@model DarNGames.Pages.Products.ProductsHome

@{
    ViewData["Title"] = "Products Home";
}

<h1>Index</h1>

<p>
</p>

<div class="row">
    <div class="col-md-4 col-sm-3">
        <img src="@Url.Content("~/Images/" + Model.Vendor.VendorTitle + "/" + Model.Subcategory.Title.Replace(" ", "%20") + "/" + Model.Subcategory.ImageLink)" class="img-fluid" alt="Alternate Text" />
    </div>
</div>
<p>
    <a asp-page="Create" asp-route-subcategoryId="@Model.Subcategory.Id" asp-route-gameVendorId="@Model.Subcategory.GameVendorId">Add item</a>
</p>
@for (var i = 0; i < Model.Products.Count; i++)
{
<div class="row">
    <div class="col-md-4 col-sm-3">
        @Html.DisplayFor(modelItem => Model.Products[i].Title)
        <a asp-page="Product" asp-route-id="@Model.Subcategory.Id" asp-route-gameVendorId="@Model.Subcategory.GameVendorId" asp-route-productId="@Model.Products[i].Id"><img aria-label="VendorImageHomepage" class="img-fluid" src=@Url.Content("~/Images/" + Model.Vendor.VendorTitle.Replace(" ", "%20") + "/" + Model.Subcategory.Title.Replace(" ", "%20") + "/" + Model.Products[i].ImageLink) style="" /></a>
        £@Html.DisplayFor(modelItem => Model.Products[i].Price)
    </div>

    <div>
        <a asp-page="./Edit" asp-route-id="@Model.Products[i].Id"  asp-route-gameVendorId="@Model.Products[i].VendorSubcategoryId">Edit</a> |
        <a asp-page="./Delete" asp-route-id="@Model.Products[i].Id" asp-route-subcategoyId ="@Model.Products[i].VendorSubcategoryId" asp-route-gameVendorId="@Model.Subcategory.GameVendorId">Delete</a>
    </div>
</div>

}
